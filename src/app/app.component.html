<div class="container">
  <h1>{{ title }}</h1>

  <div class="row">
    <div class="col-md-12">
      <div *ngIf="isLoading" class="loading">
        Loading data...
      </div>

      <div *ngIf="!isLoading && stats.length === 0" class="no-data">
        No data available. Please check the CSV file.
      </div>

      <div *ngIf="!isLoading && stats.length > 0">
        <h2>Statistics</h2>
        <div class="chart-container">
          <canvas baseChart
            [data]="chartData"
            [options]="chartOptions"
            [legend]="true"
            [type]="'line'">
          </canvas>
        </div>

        <div class="stats-table">
          <h3>Recent Stats</h3>
          <table class="table">
            <thead>
              <tr>
                <th>Date</th>
                <th>Distance</th>
                <th>Time</th>
                <th>Split</th>
                <th>Watts</th>
                <th>SPM</th>
                <th>Max SPM</th>
                <th>Max Split</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let stat of stats">
                <td>{{ stat.date | date:'shortDate' }}</td>
                <td>{{ stat.distance }}m</td>
                <td>{{ stat.time }}</td>
                <td>{{ stat.splitTime }}</td>
                <td>{{ stat.averageWatts }}</td>
                <td>{{ stat.strokesPerMinute }}</td>
                <td>{{ stat.maxStrokesPerMinute }}</td>
                <td>{{ stat.maxSplitTime }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
